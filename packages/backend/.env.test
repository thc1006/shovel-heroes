# ===================================
# Shovel Heroes - Test Environment Configuration
# ===================================
#
# This file contains environment variables for the test environment.
# It is automatically loaded when NODE_ENV=test

# ===== Test Database Configuration =====
# Separate database for testing to avoid data conflicts
DATABASE_URL=postgres://postgres:postgres@localhost:5432/shovelheroes_test
TEST_DATABASE_URL=postgres://postgres:postgres@localhost:5432/shovelheroes_test

# Database connection pool settings (optimized for tests)
DB_POOL_MIN=2
DB_POOL_MAX=10

# ===== Server Configuration =====
# Use different port to avoid conflicts with dev server
PORT=8788

# Test environment
NODE_ENV=test

# ===== JWT Authentication =====
# Test-specific JWT secret (NOT for production!)
JWT_SECRET=test_secret_at_least_32_characters_long_for_security
JWT_EXPIRES_IN=24h

# ===== CORS Configuration =====
# Allow all origins in tests
CORS_ORIGIN=http://localhost:5173,http://localhost:3000

# ===== Logging Configuration =====
# Silent logging in tests to reduce noise
LOG_LEVEL=silent
LOG_PRETTY=false

# ===== OpenTelemetry =====
# Disable OTEL in tests for performance
OTEL_ENABLED=false

# ===== Email Configuration =====
# Use fake SMTP for tests (no actual emails sent)
SMTP_HOST=localhost
SMTP_PORT=1025
SMTP_SECURE=false
EMAIL_FROM=test@shovel-heroes.com

# ===== Rate Limiting =====
# Higher limits for tests
RATE_LIMIT_MAX=1000
RATE_LIMIT_WINDOW=1m

# ===== Security Settings =====
# Keep security features enabled even in tests
HELMET_ENABLED=true
CSRF_ENABLED=false

# ===== Feature Flags =====
# Enable debug endpoints in tests
DEBUG_ENDPOINTS=true
SWAGGER_ENABLED=false

# ===== PostgreSQL Test Database Settings =====
TEST_DB_NAME=shovelheroes_test
POSTGRES_USER=postgres
POSTGRES_PASSWORD=postgres
POSTGRES_HOST=localhost
POSTGRES_PORT=5432
